(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{16:function(e,t,c){e.exports={navbar:"Nav_navbar__5jVBf",itemLeft:"Nav_itemLeft__1WAiH",itemRight:"Nav_itemRight__2gtqZ",navTitle:"Nav_navTitle__2jFS7",firstItem:"Nav_firstItem__2co06",navItems:"Nav_navItems__1mKy8",active:"Nav_active__S8g4-"}},20:function(e,t,c){e.exports={wrapper:"Card_wrapper__2UDcT",half:"Card_half__3jUCY",buttons:"Card_buttons__2obpd",cols:"Card_cols__2oXrg"}},26:function(e,t,c){e.exports={third:"Header_third__1StbN"}},31:function(e,t,c){},91:function(e,t,c){"use strict";c.r(t);var n=c(0),a=c(1),s=c.n(a),r=c(19),o=c.n(r),i=(c(31),c(7)),l=c(18),d=c(16),j=c.n(d);function b(){return Object(n.jsxs)("nav",{className:j.a.navbar,children:[Object(n.jsx)("div",{className:j.a.itemLeft,children:Object(n.jsx)(l.c,{to:"/",style:{textDecoration:"none"},children:Object(n.jsx)("span",{className:j.a.navTitle,children:"Valhalla App"})})}),Object(n.jsxs)("div",{className:j.a.itemRight,children:[Object(n.jsx)(l.c,{exact:!0,activeClassName:j.a.active,className:"".concat(j.a.navItems),to:"/",children:Object(n.jsx)("span",{children:"Home"})}),Object(n.jsx)(l.c,{activeClassName:j.a.active,className:"".concat(j.a.navItems),to:"/orders",children:Object(n.jsx)("span",{children:"Pedidos"})}),Object(n.jsx)(l.c,{activeClassName:j.a.active,className:"".concat(j.a.navItems),to:"/products",children:Object(n.jsx)("span",{children:"Productos"})})]})]})}var u=c(9),m=c(47),h=c(48),p=c(51),O=c(50),x=c(5),f=c.n(x),v=c(49),N=c.n(v),g=function(e){Object(p.a)(c,e);var t=Object(O.a)(c);function c(){var e;return Object(m.a)(this,c),(e=t.call(this)).draw=function(){var t="",c=[],n=[];e.state.values.map((function(a){switch(parseInt(a._id.mes)){case 1:t="Enero";break;case 2:t="Febrero";break;case 3:t="Marzo";break;case 4:t="Abril";break;case 5:t="Mayo";break;case 6:t="Junio";break;case 7:t="Julio";break;case 8:t="Agosto";break;case 9:t="Septiembre";break;case 10:t="Octubre";break;case 11:t="Noviembre";break;case 12:t="Diciembre";break;default:t="error"}c.push(t+" - "+a._id.year),e.setState(Object(u.a)(Object(u.a)({},e.state),{},{months:c})),n.push(a.total),e.setState(Object(u.a)(Object(u.a)({},e.state),{},{totals:n}))}));var a=document.getElementById("myChart");new N.a(a,{type:"bar",data:{labels:e.state.months,datasets:[{label:"Venta de los \xfaltimos 6 meses",data:e.state.totals,backgroundColor:["rgba(255, 99, 132, 0.2)","rgba(54, 162, 235, 0.2)","rgba(255, 206, 86, 0.2)","rgba(75, 192, 192, 0.2)","rgba(153, 102, 255, 0.2)","rgba(255, 159, 64, 0.2)"],borderColor:["rgba(255, 99, 132, 1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)","rgba(153, 102, 255, 1)","rgba(255, 159, 64, 1)"],borderWidth:1}]},options:{scales:{yAxes:[{ticks:{beginAtZero:!0}}]}}})},e.state={values:[],months:[],totals:[]},e}return Object(h.a)(c,[{key:"componentDidMount",value:function(){var e=this;f.a.get("pedido/grafico12Meses").then((function(t){e.setState(Object(u.a)(Object(u.a)({},e.state),{},{values:t.data})),e.draw()})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){return Object(n.jsx)("div",{className:"container",style:{width:"75%"},children:Object(n.jsx)("div",{className:"ct-chart",children:Object(n.jsx)("canvas",{id:"myChart"})})})}}]),c}(a.Component),y=c(6),_=c(97),C=c(93),k=c(94),S=c(95),w=c(96);function q(e){var t=e.openClose,c=e.openCloseModal,a=e.title,s=e.body,r=e.deleteFunction;return Object(n.jsxs)(_.a,{isOpen:t,children:[Object(n.jsx)(C.a,{children:a}),Object(n.jsx)(k.a,{children:s}),Object(n.jsxs)(S.a,{className:"d-flex justify-content-center",children:[Object(n.jsx)(w.a,{color:"secondary",onClick:c,children:"Cerrar"}),r?Object(n.jsx)(w.a,{color:"danger",onClick:r,children:"Eliminar"}):null]})]})}function D(e){var t=e.history,c=Object(a.useState)([]),s=Object(y.a)(c,2),r=s[0],o=s[1],i=Object(a.useState)(!1),d=Object(y.a)(i,2),j=d[0],b=d[1],u=function(){return b(!j)},m=function(){f.a.get("producto/list").then((function(e){return o(e.data)})).catch((function(e){return console.log(e)}))};Object(a.useEffect)(m,[]);var h=function(e){e.estado?f.a.put("producto/deactivate",{_id:e._id}).then((function(e){m()})).catch((function(e){console.log(e)})):0===parseInt(e.estado)&&f.a.put("producto/activate",{_id:e._id}).then((function(e){m()})).catch((function(e){console.log(e)}))};return Object(n.jsxs)("div",{className:"container",children:[Object(n.jsx)("div",{className:"d-flex justify-content-end",children:Object(n.jsx)("button",{onClick:function(){return t.push("/products/add")},className:"btn btn-outline-dark",children:"Agregar"})}),Object(n.jsx)("div",{className:"table-responsive mt-3",children:Object(n.jsxs)("table",{className:"table",children:[Object(n.jsx)("thead",{className:"thead-dark",children:Object(n.jsxs)("tr",{children:[Object(n.jsx)("th",{scope:"col",children:"Opciones"}),Object(n.jsx)("th",{scope:"col",children:"Nombre"}),Object(n.jsx)("th",{scope:"col",children:"Descripci\xf3n"}),Object(n.jsx)("th",{scope:"col",children:"Precio"}),Object(n.jsx)("th",{scope:"col",children:"C\xf3digo"})]})}),Object(n.jsx)("tbody",{children:r.map((function(e){return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)("tr",{children:[Object(n.jsxs)("th",{scope:"row",children:[Object(n.jsx)("span",{onClick:u,style:{cursor:"pointer"},className:"d-inline",children:Object(n.jsx)("i",{className:"far fa-trash-alt"})}),Object(n.jsx)(l.b,{style:{color:"black"},to:"products/edit/".concat(e._id),children:Object(n.jsx)("span",{style:{cursor:"pointer"},className:"d-inline mx-3",children:Object(n.jsx)("i",{className:"far fa-edit"})})}),e.estado?Object(n.jsx)("span",{onClick:function(){return h(e)},style:{cursor:"pointer"},className:"d-inline",children:Object(n.jsx)("i",{className:"fas fa-ban"})}):Object(n.jsx)("span",{onClick:function(){return h(e)},style:{cursor:"pointer"},className:"d-inline",children:Object(n.jsx)("i",{className:"fas fa-check"})})]}),Object(n.jsx)("td",{children:e.nombre}),Object(n.jsx)("td",{children:e.descripcion}),Object(n.jsxs)("td",{children:["$ ",e.precio_venta]}),Object(n.jsx)("td",{children:e.codigo})]},e._id),Object(n.jsx)(q,{openClose:j,openCloseModal:u,title:"Eliminar Producto",body:"Segur\xedsimo que quer\xe9s eliminar este producto?",deleteFunction:function(){return t=e,void f.a.delete("producto/remove?_id="+t._id).then((function(e){return m()})).then((function(e){return u()})).catch((function(e){return console.log(e)}));var t}})]})}))})]})})]})}var T=c(17);function E(e){var t=e.product,c=e.errors,a=e.handleInputChange,s=e.saveEdit,r=e.history,o=e.title;return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)("div",{className:"container mt-5",children:[Object(n.jsx)("h2",{className:"fw-bold mb-4",children:o}),Object(n.jsxs)("div",{className:"row",children:[Object(n.jsxs)("div",{className:"mb-2 col-12 col-sm-12 col-md-6 col-lg-6",children:[Object(n.jsx)("label",{className:"mr-auto",children:"Nombre"}),Object(n.jsx)("input",{type:"text",className:"form-control",name:"name",value:t.name,onChange:a}),Object(n.jsx)("span",{className:"text-danger",children:c.name})]}),Object(n.jsxs)("div",{className:"mb-2 col-12 col-sm-12 col-md-6 col-lg-6",children:[Object(n.jsx)("label",{children:"Precio"}),Object(n.jsx)("input",{type:"number",className:"form-control",name:"price",value:t.price,onChange:a}),Object(n.jsx)("span",{className:"text-danger",children:c.price})]}),Object(n.jsxs)("div",{className:"mb-2 col-12 col-sm-12 col-md-12 col-lg-12",children:[Object(n.jsx)("label",{children:"Descripci\xf3n"}),Object(n.jsx)("input",{type:"text",className:"form-control",name:"description",value:t.description,onChange:a}),Object(n.jsx)("span",{className:"text-danger",children:c.description})]}),Object(n.jsxs)("div",{className:"mb-2 col-12 col-sm-12 col-md-8 col-lg-8",children:[Object(n.jsx)("label",{className:"mr-auto",children:"C\xf3digo"}),Object(n.jsx)("input",{type:"text",className:"form-control",name:"code",value:t.code,onChange:a}),Object(n.jsx)("span",{className:"text-danger",children:c.code})]}),Object(n.jsxs)("div",{className:"mb-2 col-12 col-sm-12 col-md-4 col-lg-4",children:[Object(n.jsx)("label",{children:"Orden"}),Object(n.jsx)("input",{type:"number",className:"form-control",name:"sortNumber",value:t.sortNumber,onChange:a}),Object(n.jsx)("span",{className:"text-danger",children:c.sortNumber})]})]})]}),Object(n.jsxs)("div",{className:"mt-3",children:[Object(n.jsx)("button",{onClick:function(){return r.push("/products")},type:"button",className:"btn btn-secondary mx-2",children:"Cerrar"}),Object(n.jsx)("button",{type:"button",onClick:s,className:"btn btn-success mx-2",children:"Guardar"})]})]})}function I(e){var t=e.history,c=Object(a.useState)({name:"",price:"",description:"",code:"",sortNumber:""}),s=Object(y.a)(c,2),r=s[0],o=s[1],i=Object(a.useState)({}),l=Object(y.a)(i,2),d=l[0],j=l[1];return Object(n.jsx)(E,{product:r,errors:d,handleInputChange:function(e){o(Object(u.a)(Object(u.a)({},r),{},Object(T.a)({},e.target.name,e.target.value)))},saveEdit:function(){j(function(e){var t={};return e.name||(t.name="Ten\xe9s que escribir un nombre."),e.price||(t.price="Ten\xe9s que agregar un precio."),e.description||(t.description="Ten\xe9s que escribir una descripci\xf3n."),e.code||(t.code="Ten\xe9s que escribir un c\xf3digo."),e.sortNumber||(t.sortNumber="Ten\xe9s que escribir un n\xfamero para ordenar."),t}(r)),""!==r.name&&""!==r.price&&""!==r.description&&""!==r.code&&""!==r.sortNumber&&f.a.post("producto/add",{nombre:r.name,precio_venta:r.price,descripcion:r.description,codigo:r.code,ordenNum:r.sortNumber}).then((function(){return t.push("/products")})).catch((function(e){console.log(e)}))},history:t,title:"Agregar Producto"})}function P(e){var t=e.match,c=e.history,s=Object(a.useState)({name:"",price:"",description:"",code:"",sortNumber:""}),r=Object(y.a)(s,2),o=r[0],i=r[1],l=Object(a.useState)({}),d=Object(y.a)(l,2),j=d[0],b=d[1];Object(a.useEffect)((function(){f.a.get("producto/query?_id="+t.params.id).then((function(e){i({name:e.data.nombre,price:e.data.precio_venta,description:e.data.descripcion,code:e.data.codigo,sortNumber:e.data.ordenNum})})).catch((function(e){console.log(e)}))}),[]);return Object(n.jsx)(E,{product:o,errors:j,handleInputChange:function(e){i(Object(u.a)(Object(u.a)({},o),{},Object(T.a)({},e.target.name,e.target.value)))},saveEdit:function(){b(function(e){var t={};return e.name||(t.name="Ten\xe9s que escribir un nombre."),e.price||(t.price="Ten\xe9s que agregar un precio."),e.description||(t.description="Ten\xe9s que escribir una descripci\xf3n."),e.code||(t.code="Ten\xe9s que escribir un c\xf3digo."),e.sortNumber||(t.sortNumber="Ten\xe9s que escribir un n\xfamero para ordenar."),t}(o)),""!==o.name&&""!==o.price&&""!==o.description&&""!==o.code&&""!==o.sortNumber&&f.a.put("producto/update",{_id:t.params.id,nombre:o.name,precio_venta:o.price,descripcion:o.description,codigo:o.code,ordenNum:o.sortNumber}).then((function(){return c.push("/products")})).catch((function(e){console.log(e)}))},history:c,title:"Editar Producto"})}var F=c(26),A=c.n(F);function M(e){var t=e.history,c=e.orders,a=e.filterDate,s=e.setFilterDate;return Object(n.jsxs)("div",{className:"container d-flex",children:[Object(n.jsx)("div",{className:A.a.third,children:Object(n.jsx)("input",{type:"date",value:a,onChange:function(e){return s(e.target.value)},className:"form-control mr-auto text-uppercase",style:{width:"60%"}})}),Object(n.jsx)("div",{className:A.a.third,children:Object(n.jsxs)("h4",{className:"text-center fw-bold",children:["Contador de Burgers: ",function(){for(var e=0,t=0;t<c.length;t++)if(c[t].createdAt.includes(a))for(var n=c[t].detalles,s=0;s<n.length;s++)e+=parseFloat(n[s].cantidad);return e}()]})}),Object(n.jsx)("div",{className:"".concat(A.a.third," text-end"),children:Object(n.jsx)("button",{onClick:function(){return t.push("/orders/add")},className:"btn btn-light border border-dark",children:"Nuevo"})})]})}var H=c(20),B=c.n(H);function R(e){var t=e.id,c=e.name,s=e.address,r=e.time,o=e.notes,i=e.delivery,l=e.details,d=e.totalPrice,j=e.state,b=e.history,u=e.listOrders,m="text-start my-1",h=Object(a.useState)(!1),p=Object(y.a)(h,2),O=p[0],x=p[1],v=function(){return x(!O)},N=function(){return 1===j?"success":"danger"};return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)("div",{className:"".concat(B.a.wrapper," border-").concat(N()),children:[Object(n.jsxs)("div",{className:B.a.cols,children:[Object(n.jsxs)("div",{className:B.a.half,children:[Object(n.jsxs)("p",{className:m,children:["Nombre: ",Object(n.jsx)("span",{className:"text-".concat(N()),children:c})]}),Object(n.jsxs)("p",{className:m,children:["Direcci\xf3n: ",Object(n.jsx)("span",{className:"text-".concat(N()),children:s})]}),Object(n.jsxs)("p",{className:m,children:["Hora de salida: ",Object(n.jsx)("span",{className:"text-".concat(N()),children:r})]}),o&&Object(n.jsxs)("p",{className:m,children:["Notas: ",Object(n.jsx)("span",{className:"text-".concat(N()),children:o})]}),Object(n.jsxs)("p",{className:m,children:["Env\xedo: ",Object(n.jsx)("span",{className:"text-".concat(N()),children:i})]})]}),Object(n.jsx)("div",{className:B.a.half,children:Object(n.jsxs)("ul",{className:"list-group list-group-flush",children:[l.map((function(e){return Object(n.jsxs)("li",{className:"text-left px-0 list-group-item",children:[Object(n.jsx)("span",{className:"py-0 text-".concat(N()),children:e.cantidad}),Object(n.jsxs)("span",{className:"py-0",children:[" - ",e.producto]}),Object(n.jsx)("br",{}),Object(n.jsx)("span",{className:"text-".concat(N()),children:Object(n.jsx)("small",{children:e.nota})})]},e._id)})),Object(n.jsxs)("li",{className:"list-group-item h3 text-center text-".concat(N()),children:["$ ",d]})]})})]}),Object(n.jsx)("div",{className:"".concat(B.a.buttons," mb-2"),children:Object(n.jsxs)("div",{children:[Object(n.jsx)("button",{onClick:function(){0===parseInt(j)?f.a.put("pedido/activate",{_id:t}).then((function(){return u()})).catch((function(e){return console.log(e)})):1===parseInt(j)&&f.a.put("pedido/deactivate",{_id:t}).then((function(){return u()})).catch((function(e){return console.log(e)}))},className:"mx-2 btn btn-".concat(1===j?"success":"secondary"),children:"Preparado"}),Object(n.jsx)("button",{onClick:function(){return b.push("orders/edit/".concat(t))},className:"mx-2 btn btn-primary",children:"Editar"}),Object(n.jsx)("button",{onClick:v,className:"mx-2 btn btn-danger",children:"Eliminar"})]})})]}),Object(n.jsx)(q,{openClose:O,openCloseModal:v,title:"Eliminar Pedido",body:"Segur\xedsimo que quer\xe9s eliminar este pedido?",deleteFunction:function(){f.a.delete("pedido/remove?_id="+t).then((function(){return u()})).catch((function(e){return console.log(e)}))}})]})}function $(e){var t=e.history,c=Object(a.useState)([]),s=Object(y.a)(c,2),r=s[0],o=s[1],i=Object(a.useState)(""),l=Object(y.a)(i,2),d=l[0],j=l[1],b=function(){f.a.get("pedido/list").then((function(e){return o(e.data)})).catch((function(e){return console.log(e)}))};return Object(a.useEffect)(b,[]),Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("div",{className:"d-flex",children:Object(n.jsx)(M,{history:t,orders:r,filterDate:d,setFilterDate:j})}),Object(n.jsx)("div",{style:{display:"flex",flexDirection:"row",flexWrap:"wrap"},children:r.map((function(e){return e.createdAt.includes(d)?Object(n.jsx)(R,{id:e._id,name:e.nombre,address:e.direccion,time:e.hora,notes:e.notas,delivery:e.envio,details:e.detalles,totalPrice:e.total,state:e.estado,history:t,listOrders:b},e._id):null}))})]})}function L(e){var t=e.order,c=e.setOrder,a=e.errors,s=function(e){c(Object(u.a)(Object(u.a)({},t),{},Object(T.a)({},e.target.name,e.target.value)))};return Object(n.jsxs)("div",{className:"row",children:[Object(n.jsxs)("div",{className:"mb-2 col-12 col-sm-12 col-md-4 col-lg-4",children:[Object(n.jsx)("label",{className:"mr-auto",children:"Nombre"}),Object(n.jsx)("input",{name:"name",value:t.name,type:"text",className:"form-control",onChange:s}),Object(n.jsx)("span",{className:"text-danger",children:a.name})]}),Object(n.jsxs)("div",{className:"mb-2 col-12 col-sm-12 col-md-4 col-lg-4",children:[Object(n.jsx)("label",{className:"mr-auto",children:"Hora de entrega"}),Object(n.jsx)("input",{name:"time",value:t.time,type:"time",className:"form-control",onChange:s}),Object(n.jsx)("span",{className:"text-danger",children:a.time})]}),Object(n.jsxs)("div",{className:"mb-2 col-12 col-sm-12 col-md-4 col-lg-4",children:[Object(n.jsx)("label",{className:"mr-auto",children:"Env\xedo"}),Object(n.jsxs)("select",{name:"delivery",value:t.delivery,className:"form-control",onChange:s,children:[Object(n.jsx)("option",{selected:!0,disabled:!0,value:"",children:"Elegir"}),Object(n.jsx)("option",{value:"Iv\xe1n",children:"Iv\xe1n"}),Object(n.jsx)("option",{value:"Delivery",children:"Delivery"}),Object(n.jsx)("option",{value:"Busca",children:"Busca"})]})]}),Object(n.jsxs)("div",{className:"mb-2 col-12 col-sm-12 col-md-6 col-lg-6",children:[Object(n.jsx)("label",{children:"Direcci\xf3n"}),Object(n.jsx)("input",{name:"address",value:t.address,type:"text",className:"form-control",onChange:s}),Object(n.jsx)("span",{className:"text-danger",children:a.address})]}),Object(n.jsxs)("div",{className:"mb-2 col-12 col-sm-12 col-md-6 col-lg-6",children:[Object(n.jsx)("label",{children:"Notas"}),Object(n.jsx)("input",{name:"notes",value:t.notes,type:"text",className:"form-control",onChange:s})]})]})}var J=c(24);function W(e){var t=e.details,c=e.setDetails,s=Object(a.useState)(""),r=Object(y.a)(s,2),o=r[0],i=r[1],l=Object(a.useState)([]),d=Object(y.a)(l,2),j=d[0],b=d[1],u=Object(a.useState)(!1),m=Object(y.a)(u,2),h=m[0],p=m[1],O=function(){return p(!h)};return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)("div",{className:"d-flex justify-content-center my-4",children:[Object(n.jsx)("input",{value:o,onChange:function(e){return i(e.target.value)},type:"text",className:"form-control mx-2",style:{width:"30%"}}),Object(n.jsx)("button",{onClick:function(){!function(e){f.a.get("producto/list?valor="+e).then((function(e){return b(e.data)})).catch((function(e){return console.log(e)}))}(o),O()},className:"btn btn-outline-primary mx-2",children:Object(n.jsx)("i",{className:"fas fa-search"})}),Object(n.jsx)("button",{onClick:function(){b([]),i("")},className:"btn btn-outline-danger",children:Object(n.jsx)("i",{className:"fas fa-trash-alt"})})]}),j.length?Object(n.jsx)(q,{title:"Resultados",body:Object(n.jsx)("div",{className:"d-flex justify-content-center",children:Object(n.jsxs)("table",{className:"table",style:{width:"90%"},children:[Object(n.jsx)("thead",{className:"thead-dark",children:Object(n.jsxs)("tr",{children:[Object(n.jsx)("th",{scope:"col",children:"Agregar"}),Object(n.jsx)("th",{scope:"col",children:"Nombre"}),Object(n.jsx)("th",{scope:"col",children:"Precio"})]})}),Object(n.jsx)("tbody",{children:j.map((function(e){return Object(n.jsxs)("tr",{children:[Object(n.jsx)("th",{scope:"row",children:Object(n.jsx)("span",{onClick:function(){return function(e){for(var n=0;n<t.length;n++)if(t[n].producto===e.nombre)return;c([].concat(Object(J.a)(t),[{_id:e._id,producto:e.nombre,nota:e.nota,cantidad:1,precio:e.precio_venta}]))}(e)},style:{cursor:"pointer"},className:"d-inline my-auto",children:Object(n.jsx)("i",{className:"fas fa-plus"})})}),Object(n.jsx)("td",{children:e.nombre}),Object(n.jsxs)("td",{children:["$ ",e.precio_venta]})]},e._id)}))})]})}),openClose:h,openCloseModal:O,deleteFunction:null}):Object(n.jsx)(q,{title:"Resultados",body:"No hay ning\xfan producto con ese nombre.",openClose:h,openCloseModal:O,deleteFunction:null})]})}function G(e){var t=e.errors,c=e.details,a=e.setDetails,s=function(e,t){var n=c.map((function(c){return c._id===t._id?Object(u.a)(Object(u.a)({},t),{},Object(T.a)({},e.target.name,e.target.value)):c}));a(n)};return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("span",{className:"text-danger",children:t.details}),Object(n.jsxs)("table",{className:"table",children:[Object(n.jsx)("thead",{className:"thead-dark",children:Object(n.jsxs)("tr",{children:[Object(n.jsx)("th",{scope:"col",children:"Borrar"}),Object(n.jsx)("th",{scope:"col",children:"Nombre"}),Object(n.jsx)("th",{scope:"col",children:"Nota"}),Object(n.jsx)("th",{scope:"col",children:"Cantidad"}),Object(n.jsx)("th",{scope:"col",children:"Precio"}),Object(n.jsx)("th",{scope:"col",children:"Subtotal"})]})}),Object(n.jsx)("tbody",{children:c.map((function(e){return Object(n.jsxs)("tr",{children:[Object(n.jsx)("th",{scope:"row",children:Object(n.jsx)("span",{onClick:function(){return function(e){var t=c.filter((function(t){return t._id!==e._id}));a(Object(J.a)(t))}(e)},style:{cursor:"pointer"},className:"d-inline",children:Object(n.jsx)("i",{className:"far fa-trash-alt"})})}),Object(n.jsx)("td",{children:e.producto}),Object(n.jsx)("td",{children:Object(n.jsx)("input",{type:"text",name:"nota",onChange:function(t){return s(t,e)},value:e.nota,className:"form-control"})}),Object(n.jsx)("td",{children:Object(n.jsx)("input",{type:"number",name:"cantidad",onChange:function(t){return s(t,e)},value:e.cantidad,className:"form-control"})}),Object(n.jsx)("td",{children:Object(n.jsx)("input",{type:"number",name:"precio",onChange:function(t){return s(t,e)},value:e.precio,className:"form-control"})}),Object(n.jsxs)("td",{children:["$ ",e.cantidad*e.precio]})]},e._id)}))})]})]})}function U(e){var t=e.history,c=Object(a.useState)({name:"",time:"",delivery:"",address:"",notes:""}),s=Object(y.a)(c,2),r=s[0],o=s[1],i=Object(a.useState)([]),l=Object(y.a)(i,2),d=l[0],j=l[1],b=Object(a.useState)({}),u=Object(y.a)(b,2),m=u[0],h=u[1],p=function(e,t){var c={};return e.name||(c.name="Ten\xe9s que escribir un nombre."),e.time||(c.time="Ten\xe9s que agregar una hora de entrega."),e.address||(c.address="Ten\xe9s que escribir una direcci\xf3n."),0===t.length&&(c.details="Ten\xe9s que agregar burgers al pedido."),c},O=function(){for(var e=0,t=0;t<d.length;t++)e+=d[t].cantidad*d[t].precio;return e};return Object(n.jsxs)("div",{className:"mt-4 mb-3",children:[Object(n.jsx)("h2",{className:"fw-bold mb-4",children:"Agregar Pedido"}),Object(n.jsxs)("div",{className:"container",children:[Object(n.jsx)(L,{order:r,setOrder:o,errors:m}),Object(n.jsx)(W,{details:d,setDetails:j}),Object(n.jsx)(G,{errors:m,details:d,setDetails:j}),Object(n.jsxs)("p",{className:"text-end",children:[Object(n.jsx)("span",{className:"fw-bold",children:" Precio Total: "}),"  $ ",O()]})]}),Object(n.jsx)("button",{onClick:function(){return t.push("/orders")},type:"button",className:"mx-2 btn btn-secondary",children:"Cerrar"}),Object(n.jsx)("button",{onClick:function(){if(h(p(r,d)),""!==r.name&&""!==r.time&&""!==r.address&&d.length>0){var e=new Date;e=e.setHours(0,0,0,0),f.a.post("pedido/add",{nombre:r.name,direccion:r.address,notas:r.notes,total:O(),envio:r.delivery,hora:r.time,createdAt:e,detalles:d}).then((function(){return t.push("/orders")})).catch((function(e){console.log(e)}))}},type:"button",className:"mx-2 btn btn-success",children:"Guardar"})]})}function V(e){var t=e.history,c=e.match,s=Object(a.useState)({name:"",time:"",delivery:"",address:"",notes:""}),r=Object(y.a)(s,2),o=r[0],i=r[1],l=Object(a.useState)([]),d=Object(y.a)(l,2),j=d[0],b=d[1],u=Object(a.useState)({}),m=Object(y.a)(u,2),h=m[0],p=m[1];Object(a.useEffect)((function(){f.a.get("pedido/query?_id="+c.params.id).then((function(e){i({name:e.data.nombre,time:e.data.hora,delivery:e.data.envio,address:e.data.direccion,notes:e.data.notas}),b(e.data.detalles)})).catch((function(e){console.log(e)}))}),[]);var O=function(e,t){var c={};return e.name||(c.name="Ten\xe9s que escribir un nombre."),e.time||(c.time="Ten\xe9s que agregar una hora de entrega."),e.address||(c.address="Ten\xe9s que escribir una direcci\xf3n."),0===t.length&&(c.details="Ten\xe9s que agregar burgers al pedido."),c},x=function(){for(var e=0,t=0;t<j.length;t++)e+=j[t].cantidad*j[t].precio;return e};return Object(n.jsxs)("div",{className:"mt-4 mb-3",children:[Object(n.jsx)("h2",{className:"fw-bold mb-4",children:"Editar Pedido"}),Object(n.jsxs)("div",{className:"container",children:[Object(n.jsx)(L,{order:o,setOrder:i,errors:h}),Object(n.jsx)(W,{details:j,setDetails:b}),Object(n.jsx)(G,{errors:h,details:j,setDetails:b}),Object(n.jsxs)("p",{className:"text-end",children:[Object(n.jsx)("span",{className:"fw-bold",children:" Precio Total: "}),"  $ ",x()]})]}),Object(n.jsx)("button",{onClick:function(){return t.push("/orders")},type:"button",className:"mx-2 btn btn-secondary",children:"Cerrar"}),Object(n.jsx)("button",{onClick:function(){if(p(O(o,j)),""!==o.name&&""!==o.time&&""!==o.address&&j.length>0){var e=new Date;e=e.setHours(0,0,0,0),f.a.put("pedido/update",{_id:c.params.id,nombre:o.name,direccion:o.address,notas:o.notes,total:x(),envio:o.delivery,hora:o.time,createdAt:e,detalles:j}).then((function(){return t.push("/orders")})).catch((function(e){console.log(e)}))}},type:"button",className:"mx-2 btn btn-success",children:"Editar"})]})}function Z(){return Object(n.jsx)("footer",{className:"bg-dark text-light mt-3 py-1",style:{boxShadow:"0px 1px 30px -4px rgba(0,0,0,0.75)"},children:"GWD \xa9 Order List App"})}var z=function(){return Object(n.jsxs)("div",{children:[Object(n.jsxs)("div",{style:{minHeight:"92.4vh"},children:[Object(n.jsx)(i.a,{path:"/",component:b}),Object(n.jsx)(i.a,{exact:!0,path:"/",component:g}),Object(n.jsx)(i.a,{exact:!0,path:"/products",component:D}),Object(n.jsx)(i.a,{path:"/products/add",component:I}),Object(n.jsx)(i.a,{path:"/products/edit/:id",component:P}),Object(n.jsx)(i.a,{exact:!0,path:"/orders",component:$}),Object(n.jsx)(i.a,{path:"/orders/add",component:U}),Object(n.jsx)(i.a,{path:"/orders/edit/:id",component:V})]}),Object(n.jsx)("div",{style:{minHeight:"5vh"},children:Object(n.jsx)(i.a,{path:"/",component:Z})})]})};c(87),c(88);f.a.defaults.baseURL="http://localhost:3000/api/",o.a.render(Object(n.jsx)(s.a.StrictMode,{children:Object(n.jsx)(l.a,{children:Object(n.jsx)(z,{})})}),document.getElementById("root"))}},[[91,1,2]]]);
//# sourceMappingURL=main.3959ccae.chunk.js.map